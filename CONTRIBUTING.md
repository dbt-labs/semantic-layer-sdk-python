# Contributing

Thank you for being interested in contribuiting to the Semantic Layer SDK!

There are many ways you can contribute to this project.


## Submitting an issue

If you feel like your use case hasn't been covered by the SDK, or if you found a bug or regression, please open an issue to this repo. Try to include as much detail as possible.


## Submitting code

If you want to contribute by submitting code, this section will explain how to set up the repo and get started.


### Setting up your environment

1. We use [hatch](https://hatch.pypa.io/) as the dependency and environment manager. Make sure you install it via one of the methods described [here](https://hatch.pypa.io/latest/install/). 
2. We use [lefthook](https://github.com/evilmartians/lefthook/) for Git hooks management. The first time you clone the repo, run `lefthook install` to setup the git hooks.

Hatch will manage your environments for you. Check out the list of available environments in [`pyproject.toml`](./pyproject.toml). You probably want to use the `dev` environment by running `hatch shell dev`.


### Upgrading dependencies

We use locked `requirements.txt` files for dependency management. If you want to upgrade, remove or add a dependency, change the `deps/*.in` files and run `hatch run lock`. Don't edit `.txt` files manually, since those are autogenerated by [uv](https://github.com/astral-sh/uv/).


### Making code changes

Try to keep your code clean and organized. Write documentation to public methods, and write appropriate tests.

We use [changie](https://changie.dev/) to manage our [`CHANGELOG.md`](./CHANGELOG.md). Please don't edit that file manually.


### Running tests

Run tests by using `hatch run test:run`. This will run all our tests in all supported Python versions. Make sure they pass before you submit a PR.

The test suite requires a `tests/server_schema.gql` file to exist, since it checks that all GraphQL queries from the SDK will work against the server. That file must contain the schema of the GraphQL API, and you can obtain it by running our introspection script with `hatch run dev:fetch-schema`.


### Committing changes

Whenever you commit anything, first make sure all git hooks are passing ([ruff](https://github.com/astral-sh/ruff/) and [basedpyright](https://github.com/DetachHead/basedpyright)). Then, write a commit message which follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/), and describe well which changes your commit implements. Remember your code will be reviewed by other contributors, so try to keep your commit log fairly organized (but don't stress over it, we squash pull-requests anyways).

We don't require every commit to be perfect, but your pull-request as a whole must pass formatter and linter checks, pass all tests and be appropriately documented.


## Vulnerability disclosure

If you think you've found a security vulnerability (i.e something that could leak customer data, compromise API keys, gain access to unauthorized resources), **do not open an issue in GitHub**. In that case, contact us directly at `security@dbtlabs.com`, and wait until the vulnerability has been patched before publicly disclosing it.

